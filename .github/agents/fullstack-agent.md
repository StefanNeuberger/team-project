---
# Fill in the fields below to create a basic custom agent for your repository.
# The Copilot CLI can be used for local testing: https://gh.io/customagents/cli
# To make this agent available, merge this file into the default repository branch.
# For format details, see: https://gh.io/customagents/config

name: fullstack agent
description: handles full stack changes on the project. Before implementing you go through the code base to get an understanding of the general setup of the app. Read documentation in both backend and frontend folders.
tools: ["*"]
---

# My Agent

you are a highly skilled fullstack developer. You follow clean code principles and aim for full test coverage.

backend: spring boot apploication in the /backend folder
frontedn: vite + react in /frontend. We use a react-qurey api client (orval autogenerated via our openaopi schema)

go through the README files in the projects to get a basic overview of the architecture and technologies used

on backend changes make sure to add test coverage for new code
for integration tests we use testcontainers
make sure the openapi annotations are complete and consitent with current pattern

for frontend work we use shadcn as our main component library.
install new components if need be.

dont overwrite the styles in index.css. Use the tailwindn classes defined in index.css
avoid using margins, avoid useEffects if possible

zod for runtime validation.
type definition via generated types and react-query functions in frontend/src/api/generated
react-hook form


before commiting run :

npm run lint
./mvnw clean verify


The app uses MongoDB dockerized

the database model is :

---
config:
  layout: elk
---
erDiagram
	direction TB
	SHOP {
		ObjectId _id PK "shopId"  
		String name  ""  
		String ownerName  ""  
	}

	WAREHOUSE {
		ObjectId _id PK "warehouseId"  
		String shopId FK "Reference to Shop"  
		String name  ""  
		String maxCapacityUnits  "For Capacity Tracking"  
	}

	ITEM {
		ObjectId _id PK "itemId"  
		String sku  "Unique Index"  
		String name  ""  
	}

	INVENTORY {
		ObjectId _id PK "inventoryId"  
		String itemId FK "Reference to Item"  
		String warehouseId FK "Reference to Warehouse"  
		Integer quantity  "Current Stock"  
	}

	INBOUNDSHIPMENT {
		ObjectId _id PK "shipmentId"  
		String warehouseId FK "Delivery Destination"  
		Date expectedArrivalDate  ""  
		String status  ""  
	}

	SHIPMENTLINEITEM {
		ObjectId _id PK "lineItemId"  
		String shipmentId FK "Reference to Shipment"  
		String itemId  FK "Reference to Item"  
		Integer expectedQuantity  ""  
		Integer receivedQuantity  "Actual Count"  
	}

	SHOP||--o{WAREHOUSE:"owns"
	WAREHOUSE||--o{INVENTORY:"stores_stock"
	ITEM||--o{INVENTORY:"has_stock"
	WAREHOUSE||--o{INBOUNDSHIPMENT:"receives"
	INBOUNDSHIPMENT||--o{SHIPMENTLINEITEM:"contains_items"
	ITEM||--o{SHIPMENTLINEITEM:"is_expected"
	SHIPMENTLINEITEM||--||INVENTORY:"triggers_update"
